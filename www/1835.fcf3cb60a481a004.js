"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1835],{1835:(J,p,c)=>{c.r(p),c.d(p,{Tab1PageModule:()=>Q});var a=c(4556),u=c(6895),s=c(433),f=c(581),g=c(2598),m=c(655),e=c(8256),h=c(4655),_=c(186);const P=["ionBusqueda"];function v(o,r){if(1&o&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function T(o,r){if(1&o&&(e.ynx(0),e.YNc(1,v,2,1,"div",13),e.BQk()),2&o){const t=r.$implicit,i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",(null==(n=i.formProducto.get("sku"))?null:n.hasError(t.type))&&(null==(n=i.formProducto.get("sku"))?null:n.touched))}}function y(o,r){if(1&o&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function x(o,r){if(1&o&&(e.ynx(0),e.YNc(1,y,2,1,"div",13),e.BQk()),2&o){const t=r.$implicit,i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",(null==(n=i.formProducto.get("name"))?null:n.hasError(t.type))&&(null==(n=i.formProducto.get("name"))?null:n.touched))}}function C(o,r){if(1&o&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function Z(o,r){if(1&o&&(e.ynx(0),e.YNc(1,C,2,1,"div",13),e.BQk()),2&o){const t=r.$implicit,i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",(null==(n=i.formProducto.get("price"))?null:n.hasError(t.type))&&(null==(n=i.formProducto.get("price"))?null:n.touched))}}function b(o,r){if(1&o&&(e.TgZ(0,"ion-select-option",15),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.idCategoryBK)}}function O(o,r){if(1&o&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function q(o,r){if(1&o&&(e.ynx(0),e.YNc(1,O,2,1,"div",13),e.BQk()),2&o){const t=r.$implicit,i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",(null==(n=i.formProducto.get("category"))?null:n.hasError(t.type))&&(null==(n=i.formProducto.get("category"))?null:n.touched))}}function M(o,r){if(1&o&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function k(o,r){if(1&o&&(e.ynx(0),e.YNc(1,M,2,1,"div",13),e.BQk()),2&o){const t=r.$implicit,i=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",(null==(n=i.formProducto.get("stock"))?null:n.hasError(t.type))&&(null==(n=i.formProducto.get("stock"))?null:n.touched))}}const A=[{path:"",component:(()=>{class o{constructor(t,i,n,l,d,N){this.catService=t,this.prodService=i,this.alertController=n,this.toastController=l,this.modalController=d,this.fb=N,this.updateOrDelete=!0,this.isContentLoaded=!1,this.isModalOpen=!1,this.categorias=[],this.productos=[],this.fProductos=[],this.categorias=t.getCatego(),this.productos=i.getProductos(),this.fProductos=this.productos,this.formProducto=this.fb.group({sku:["",s.kI.required],name:["",s.kI.required],description:[""],price:["",s.kI.compose([s.kI.min(0),s.kI.required])],category:["",s.kI.required],calification:[""],stock:["",s.kI.compose([s.kI.required,s.kI.min(0)])],photo:[""],promCal:[0]}),this.validationMessages={sku:[{type:"required",message:"SKU required."}],name:[{type:"required",message:"Name required."}],price:[{type:"required",message:"Price required."},{type:"min",message:"Invalid number."}],category:[{type:"required",message:"Category required."}],stock:[{type:"required",message:"Stock required."},{type:"min",message:"Invalid number."}]}}setOpen(t){this.isModalOpen=t}openToAddProduct(){this.setOpen(!0),this.updateOrDelete=!0}closeAddModal(){this.updateOrDelete=!0,this.formProducto.reset(),this.isModalOpen=!1,this.presentToast("Operaci\xf3n cancelada","danger")}ionViewDidEnter(){this.busqueda.setFocus(),this.isContentLoaded=!0}filter(t){this.fProductos=t.trim()?this.productos.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())):this.productos}filterProduct(t){t instanceof CustomEvent&&this.filter(t.detail.value)}newProduct(){this.updateOrDelete?this.updateOrDelete&&(this.prodService.addProduct(this.formProducto.getRawValue()),this.presentToast("Producto Agregado","success")):this.prodService.uploadProduct(this.formProducto.getRawValue()),this.updateOrDelete=!0,this.formProducto.reset(),this.isModalOpen=!1}updateProduct(t){this.updateOrDelete=!1,this.isModalOpen=!0,this.formProducto.patchValue(t)}deleteProduct(t){this.confirmationDialog("Estas seguro de borrar el producto: "+t.name,()=>{this.productos=this.prodService.deleteProducto(t)})}confirmationDialog(t,i,n){return(0,m.mG)(this,void 0,void 0,function*(){const l=yield this.alertController.create({header:t,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:()=>{this.presentToast("Operaci\xf3n cancelada","warning")}},{text:"Confirmar",role:"confirm",cssClass:"primary",handler:()=>{i&&i(),this.presentToast("Operaci\xf3n realizada","success")}}]});l.present(),l.onDidDismiss().then(d=>{n&&n(d)})})}presentToast(t,i){return(0,m.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:500,color:i})).present()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.H),e.Y36(_.U),e.Y36(a.Br),e.Y36(a.yF),e.Y36(a.IN),e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab1"]],viewQuery:function(t,i){if(1&t&&e.Gf(P,5),2&t){let n;e.iGM(n=e.CRH())&&(i.busqueda=n.first)}},decls:30,vars:10,consts:[[3,"translucent"],[3,"fullscreen"],[3,"formGroup"],["type","text","placeholder","SKU","formControlName","sku"],[4,"ngFor","ngForOf"],["type","text","placeholder","NAME","formControlName","name"],["type","text","placeholder","DESCRIPTION","formControlName","description"],["type","number","placeholder","PRICE","formControlName","price"],["interface","popover","placeholder","Choose a category","formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","STOCK","formControlName","stock"],["type","text","placeholder","URL IMAGE","formControlName","photo"],["color","primary","expand","full",3,"disabled","click"],["class","error-message",4,"ngIf"],[1,"error-message"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3," List-products "),e.qZA()()(),e.TgZ(4,"ion-content",1)(5,"ion-grid")(6,"form",2)(7,"ion-list")(8,"ion-item"),e._UZ(9,"ion-input",3),e.YNc(10,T,2,1,"ng-container",4),e.qZA(),e.TgZ(11,"ion-item"),e._UZ(12,"ion-input",5),e.YNc(13,x,2,1,"ng-container",4),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",6),e.qZA(),e.TgZ(16,"ion-item"),e._UZ(17,"ion-input",7),e.YNc(18,Z,2,1,"ng-container",4),e.qZA(),e.TgZ(19,"ion-item")(20,"ion-select",8),e.YNc(21,b,2,2,"ion-select-option",9),e.qZA(),e.YNc(22,q,2,1,"ng-container",4),e.qZA(),e.TgZ(23,"ion-item"),e._UZ(24,"ion-input",10),e.YNc(25,k,2,1,"ng-container",4),e.qZA(),e.TgZ(26,"ion-item"),e._UZ(27,"ion-input",11),e.qZA()(),e.TgZ(28,"ion-button",12),e.NdJ("click",function(){return i.newProduct()}),e._uU(29," Add "),e.qZA()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("formGroup",i.formProducto),e.xp6(4),e.Q6J("ngForOf",i.validationMessages.sku),e.xp6(3),e.Q6J("ngForOf",i.validationMessages.name),e.xp6(5),e.Q6J("ngForOf",i.validationMessages.price),e.xp6(3),e.Q6J("ngForOf",i.categorias),e.xp6(1),e.Q6J("ngForOf",i.validationMessages.category),e.xp6(3),e.Q6J("ngForOf",i.validationMessages.stock),e.xp6(3),e.Q6J("disabled",!i.formProducto.valid))},dependencies:[a.YG,a.W2,a.jY,a.Gu,a.pK,a.Ie,a.q_,a.t9,a.n0,a.wd,a.sr,a.as,a.QI,a.j9,u.sg,u.O5,s._Y,s.JJ,s.JL,s.sg,s.u],styles:[".divContenido[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:5rem;width:100%;padding:1rem 4.5%}#divContenidoHeader[_ngcontent-%COMP%]{margin-left:9%}.pContenidoHijo[_ngcontent-%COMP%]{width:13%;text-align:center}.error-message[_ngcontent-%COMP%]{color:red;text-align:right;padding-right:1rem;font-style:italic;font-size:1rem}ion-avatar[_ngcontent-%COMP%]{--border-radius: 4px}"]}),o})()}];let I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(A),g.Bz]}),o})(),Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.Pc,u.ez,s.u5,f.e,s.UX,I]}),o})()}}]);