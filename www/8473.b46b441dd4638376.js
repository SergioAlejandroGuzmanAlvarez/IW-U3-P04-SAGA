"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8473],{8473:(w,u,c)=>{c.r(u),c.d(u,{Tab2PageModule:()=>q});var n=c(4556),g=c(6895),s=c(433),f=c(581),t=c(8256);const m=function(e,r,o,i,a){return{color:e,"font-size":r,"margin-right":o,opacity:i,"pointer-events":a}};function _(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"ion-icon",1),t.NdJ("click",function(){const l=t.CHM(o).index,d=t.oxw();return t.KtG(d.rateChange(l))}),t.qZA()}if(2&e){const o=r.index,i=t.oxw();t.Q6J("name",o+1<=i.rating?"star":"star-outline")("ngStyle",t.qbA(2,m,o+1<=i.rating?i.filledColor:i.color,i.size+"px",i.margin+"px",i.disabled?i.opacity:"1",i.disabled?"none":""))}}let h=(()=>{class e{constructor(){this.stars=[1,2,3,4,5],this.rating=0,this.size=20,this.color="grey",this.filledColor="orange",this.margin=5,this.disabled=!1,this.opacity=.5,this.ratingChange=new t.vpe}ngOnInit(){}rateChange(o){this.rating=o+1,this.ratingChange.emit(o+1)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ion-rating-stars"]],inputs:{rating:"rating",size:"size",color:"color",filledColor:"filledColor",margin:"margin",disabled:"disabled",opacity:"opacity"},outputs:{ratingChange:"ratingChange"},decls:2,vars:1,consts:[[3,"name","ngStyle","click",4,"ngFor","ngForOf"],[3,"name","ngStyle","click"]],template:function(o,i){1&o&&(t.TgZ(0,"div"),t.YNc(1,_,1,8,"ion-icon",0),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",i.stars))},dependencies:[g.sg,g.PC,n.gu],encapsulation:2}),e})(),C=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,n.Pc]}),e})();var p=c(2598),x=c(186),T=c(4655);const Z=["ionBusqueda"];function b(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"ion-col",8)(1,"ion-card",9),t.NdJ("click",function(){const l=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.setActiveProd(l))}),t._UZ(2,"img",10),t.TgZ(3,"ion-card-header")(4,"ion-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-subtitle",11),t._uU(7),t.qZA()(),t.TgZ(8,"ion-card-content")(9,"ion-grid",2)(10,"ion-row")(11,"ion-col",12)(12,"p"),t._uU(13),t.qZA()()(),t.TgZ(14,"ion-row")(15,"ion-col",3),t._UZ(16,"ion-rating-stars",13),t.qZA()(),t.TgZ(17,"ion-row")(18,"ion-col",3)(19,"h2"),t._uU(20),t.qZA()(),t.TgZ(21,"ion-col",8)(22,"label",14),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.setModalUnoOpen(!0))}),t._uU(23,"Qualify"),t.qZA()()(),t.TgZ(24,"ion-row")(25,"ion-col",12)(26,"ion-button",15),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.setModalDosOpen(!0))}),t._uU(27," Opinions "),t.qZA()()()(),t.TgZ(28,"ion-grid",2)(29,"ion-row")(30,"ion-col",3)(31,"ion-chip",16)(32,"ion-label",17),t._uU(33),t.qZA()()(),t.TgZ(34,"ion-col",8)(35,"ion-chip",18)(36,"ion-label"),t._uU(37),t.qZA()()()()()()()()}if(2&e){const o=r.$implicit,i=t.oxw();t.xp6(2),t.s9C("alt",o.name),t.s9C("src",o.photo,t.LSH),t.xp6(3),t.Oqu(o.name),t.xp6(2),t.hij("$",o.price,""),t.xp6(6),t.Oqu(o.description),t.xp6(3),t.Q6J("rating",i.getPromedio(o.calification).promedio)("color","darkgrey")("filledColor","orange")("margin",2)("size",25)("disabled",!0),t.xp6(4),t.Oqu(i.getPromedio(o.calification).promedio),t.xp6(11),t.Q6J("color",i.getColor(o.category.idCategoryBK)),t.xp6(2),t.Oqu(o.category.idCategoryBK),t.xp6(2),t.Q6J("color",i.getColorStock(o.stock)),t.xp6(2),t.hij("STOCK:",o.stock,"")}}function v(e,r){if(1&e&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.message," ")}}function P(e,r){if(1&e&&(t.ynx(0),t.YNc(1,v,2,1,"div",27),t.BQk()),2&e){const o=r.$implicit,i=t.oxw(2);let a;t.xp6(1),t.Q6J("ngIf",(null==(a=i.formCalif.get("calification"))?null:a.hasError(o.type))&&(null==(a=i.formCalif.get("calification"))?null:a.touched))}}function y(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",19)(5,"ion-button",9),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.setModalUnoOpen(!1))}),t._uU(6,"Close"),t.qZA()()()(),t.TgZ(7,"ion-content",20)(8,"form",21)(9,"ion-list")(10,"ion-item"),t._UZ(11,"ion-input",22),t.qZA(),t.TgZ(12,"ion-item"),t._UZ(13,"ion-input",23),t.qZA(),t.TgZ(14,"ion-item"),t._UZ(15,"ion-input",24),t.YNc(16,P,2,1,"ng-container",25),t.qZA(),t.TgZ(17,"ion-item")(18,"ion-button",26),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.addCalif())}),t._uU(19," Send "),t.qZA()()()()()}if(2&e){const o=t.oxw();t.xp6(3),t.hij("Qualify ",o.activeProd[1],""),t.xp6(5),t.Q6J("formGroup",o.formCalif),t.xp6(8),t.Q6J("ngForOf",o.validationMessages.calification),t.xp6(2),t.Q6J("disabled",!o.formCalif.valid)}}function M(e,r){if(1&e&&(t.TgZ(0,"ion-list",31)(1,"ion-item")(2,"h4",32),t._uU(3),t.qZA(),t._UZ(4,"ion-rating-stars",33),t.qZA(),t.TgZ(5,"ion-item",34)(6,"p"),t._uU(7),t.qZA()(),t.TgZ(8,"ion-item",35)(9,"p",19),t._uU(10),t.qZA()()()),2&e){const o=r.$implicit;t.xp6(3),t.Oqu(o.name),t.xp6(1),t.Q6J("rating",o.calification)("color","darkgrey")("filledColor","orange")("margin",2)("size",15)("disabled",!0),t.xp6(3),t.hij('"',o.coment,'"'),t.xp6(3),t.lnq("Send: ",o.fecha.getDate().toString().padStart(2,"0"),"/",(o.fecha.getMonth()+1).toString().padStart(2,"0"),"/",o.fecha.getFullYear().toString(),"")}}function S(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t.TgZ(4,"ion-buttons",19)(5,"ion-button",9),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.setModalDosOpen(!1))}),t._uU(6,"Close"),t.qZA()()()(),t.TgZ(7,"ion-content",20),t.YNc(8,M,11,11,"ion-list",29),t.TgZ(9,"ion-infinite-scroll"),t._UZ(10,"ion-infinite-scroll-content",30),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(3),t.hij("Qualify ",o.activeProd[1],""),t.xp6(5),t.Q6J("ngForOf",o.opiniones)}}const O=[{path:"",component:(()=>{class e{constructor(o,i,a,l,d,U){this.prodServ=o,this.cateServ=i,this.alertController=a,this.toastController=l,this.modalController=d,this.fb=U,this.isModalUnoOpen=!1,this.isModalDosOpen=!1,this.productos=[],this.fProductos=[],this.categorias=[],this.opiniones=[],this.formCalif=this.fb.group({}),this.activeProd=[],this.categorias=this.cateServ.getCatego(),this.productos=this.prodServ.getProductos(),this.fProductos=this.productos,this.limpiarFormulario(),this.validationMessages={calification:[{type:"required",message:"Quality required."},{type:"min",message:"Minimun is 0."},{type:"max",message:"Maximum is 5."}]}}limpiarFormulario(){this.formCalif=this.fb.group({name:[""],coment:[""],calification:["",s.kI.compose([s.kI.required,s.kI.min(0),s.kI.max(5)])],fecha:[new Date]})}getColor(o){switch(o){case"Celulares":case"Fotografia":case"Smart Home":return"secondary";case"Televisiones":return"sucess";case"Computacion":return"warning";case"Audio":case"Instrumentos":return"danger";case"Gaming":return"tertiary";default:return"primary"}}getColorStock(o){return o>0?"success":"danger"}filter(o){this.fProductos=o.trim()?this.productos.filter(i=>i.name.toLowerCase().includes(o.toLowerCase())):this.productos}filterProduct(o){o instanceof CustomEvent&&this.filter(o.detail.value)}setModalUnoOpen(o){this.isModalUnoOpen=o,this.isModalUnoOpen||(this.activeProd[0]="",this.activeProd[1]="")}setModalDosOpen(o){this.isModalDosOpen=o,this.isModalUnoOpen||(this.activeProd[0]="",this.activeProd[1]="",this.opiniones=[])}setActiveProd(o){this.activeProd[0]=o.sku,this.activeProd[1]=o.name,this.opiniones=o.calification}addCalif(){const o=this.productos.findIndex(a=>a.sku==this.activeProd[0]);this.productos[o].calification.push(this.formCalif.getRawValue()),this.prodServ.uploadProduct(this.productos[o]),this.setModalUnoOpen(!1),this.limpiarFormulario()}getPromedio(o){return 0===o.length?{promedio:0,cantidad:0}:{promedio:+(o.reduce((l,d)=>l+d.calification,0)/o.length).toFixed(1),cantidad:o.length}}filterByCategory(o){this.fProductos="All"===o?this.productos:this.productos.filter(i=>i.category.idCategoryBK===o)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(x.U),t.Y36(T.H),t.Y36(n.Br),t.Y36(n.yF),t.Y36(n.IN),t.Y36(s.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tab2"]],viewQuery:function(o,i){if(1&o&&t.Gf(Z,5),2&o){let a;t.iGM(a=t.CRH())&&(i.busqueda=a.first)}},decls:17,vars:5,consts:[[3,"translucent"],[3,"fullscreen"],["fixed",""],["size","8"],["placeholder","Search:",3,"ionChange"],["ionBusqueda",""],["size","4",4,"ngFor","ngForOf"],[3,"isOpen"],["size","4"],[3,"click"],["width","420","height","420",3,"alt","src"],["color","danger"],["size","12"],[3,"rating","color","filledColor","margin","size","disabled"],[1,"opinar-label",3,"click"],["fill","clear","size","small",3,"click"],["outline","true",3,"color"],[1,"prod-categoria"],[3,"color"],["slot","end"],[1,"ion-padding"],[3,"formGroup"],["type","text","placeholder","Name","formControlName","name"],["type","text","placeholder","Comentary","formControlName","coment"],["type","number","placeholder","Qualify rank (0-5)","formControlName","calification"],[4,"ngFor","ngForOf"],["color","success","expand","full",3,"disabled","click"],["class","error-message",4,"ngIf"],[1,"error-message"],["class","listComent",4,"ngFor","ngForOf"],["loadingText","Please wait...","loadingSpinner","bubbles"],[1,"listComent"],["slot","start"],["slot","end",3,"rating","color","filledColor","margin","size","disabled"],[1,"comentario"],[1,"fecha"]],template:function(o,i){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3," Products "),t.qZA()()(),t.TgZ(4,"ion-content",1)(5,"ion-grid",2)(6,"ion-row")(7,"ion-col",3)(8,"ion-searchbar",4,5),t.NdJ("ionChange",function(l){return i.filterProduct(l)}),t.qZA()()(),t.TgZ(10,"ion-grid",2)(11,"ion-row"),t.YNc(12,b,38,16,"ion-col",6),t.qZA()()(),t.TgZ(13,"ion-modal",7),t.YNc(14,y,20,4,"ng-template"),t.qZA(),t.TgZ(15,"ion-modal",7),t.YNc(16,S,11,2,"ng-template"),t.qZA()()),2&o&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(8),t.Q6J("ngForOf",i.fProductos),t.xp6(1),t.Q6J("isOpen",i.isModalUnoOpen),t.xp6(2),t.Q6J("isOpen",i.isModalDosOpen))},dependencies:[n.YG,n.Sm,n.PM,n.FN,n.Zi,n.tO,n.Dq,n.hM,n.wI,n.W2,n.jY,n.Gu,n.ju,n.MB,n.pK,n.Ie,n.Q$,n.q_,n.Nd,n.VI,n.wd,n.sr,n.ki,n.as,n.j9,g.sg,g.O5,s._Y,s.JJ,s.JL,s.sg,s.u,h],styles:[".error-message[_ngcontent-%COMP%]{color:red;text-align:right;padding-right:10px;font-style:italic;font-size:15px}.divContenido[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;padding:0 4.5%}.pContenidoHijo[_ngcontent-%COMP%]{width:13%;text-align:center}.comentario[_ngcontent-%COMP%]{margin-left:30px;font-style:italic;font-size:18px}.fecha[_ngcontent-%COMP%]{font-style:italic;font-size:14px}.listComent[_ngcontent-%COMP%]{border:1px solid;margin-bottom:15px}"]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(O),p.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[n.Pc,g.ez,s.u5,s.UX,f.e,C,A,s.UX]}),e})()}}]);